(function(e){function t(t){for(var n,a,c=t[0],i=t[1],u=t[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var c=r[a];0!==o[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},o={app:0},s=[];function c(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"6942eb86"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r={about:1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({about:"about"}[e]||e)+"."+{about:"504fb9d9"}[e]+".css",o=i.p+n,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=s[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===o))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===n||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete a[e],p.parentNode.removeChild(p),r(s)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){a[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,r[1](d)}o[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"04c7":function(e,t,r){e.exports=r.p+"img/maps-and-flags.bbd86674.png"},"274e":function(e,t,r){"use strict";var n=r("72b4"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},["Login"!==this.$route.name&&"Register"!==this.$route.name?r("div",{staticClass:"sidenav",attrs:{id:"mySidenav"}},[r("ul",{staticClass:"list-unstyled components"},[r("br"),r("li",[r("router-link",{attrs:{to:"/"}},[r("a",{attrs:{href:"#"}},[r("i",{staticClass:"fas fa-home",attrs:{id:"sidebar-icon"}})])])],1),e.token?r("li",[r("router-link",{attrs:{to:"/add"}},[r("a",{attrs:{href:"#"}},[r("i",{staticClass:"fas fa-plus-circle",attrs:{id:"sidebar-icon"}})])])],1):e._e(),e.token?r("li",[r("router-link",{attrs:{to:"/my-reviews"}},[r("a",{attrs:{href:"#"}},[r("i",{staticClass:"fas fa-images",attrs:{id:"sidebar-icon"}})])])],1):e._e(),r("li",[r("router-link",{attrs:{to:"/stats"}},[r("a",{attrs:{href:"#"}},[r("i",{staticClass:"fas fa-chart-pie",attrs:{id:"sidebar-icon"}})])])],1),e.token?r("li",[r("router-link",{attrs:{to:"/profile"}},[r("a",{attrs:{href:"#"}},[r("i",{staticClass:"fas fa-user-circle",attrs:{id:"sidebar-icon"}})])])],1):e._e(),r("li",[r("a",{attrs:{id:"logout-icon",href:"#"},on:{click:e.logout}},[r("i",{staticClass:"fas fa-sign-out-alt",attrs:{id:"sidebar-icon"}})])])])]):e._e(),r("div",{staticClass:"content"},[r("vue-page-transition",{attrs:{name:"fade-in-right"}},[r("router-view")],1)],1),r("div",{staticClass:"navbar-down"})])},o=[],s=r("bc3a"),c=r.n(s),i=r("c0d6"),u={data:function(){return{store:i["a"],token:null}},mounted:function(){console.log("App"),this.token=localStorage.getItem("token"),this.getBeachType(),console.log(this.token)},methods:{getBeachType:function(){c.a.get("/types").then((function(e){console.log(e),i["a"].num_concrete=e.data.concrete_num,i["a"].num_rocky=e.data.rocky_num,i["a"].num_sandy=e.data.sandy_num,i["a"].lf_yes=e.data.lifeguardY,i["a"].lf_no=e.data.lifeguardN,i["a"].petsYes=e.data.petsY,i["a"].petsNo=e.data.petsN,i["a"].free_yes=e.data.freeY,i["a"].free_no=e.data.freeN}))},logout:function(){localStorage.clear(),this.$router.push("/login")}}},l=u,d=(r("a7bb"),r("2877")),p=Object(d["a"])(l,a,o,!1,null,"4b5ac4a4",null),f=p.exports,m=(r("b0c0"),r("d3b7"),r("96cf"),r("1da1")),h=r("8c4f"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},["Login"!==this.$route.name&&"Register"!==this.$route.name?n("nav",{staticClass:"navbar"},[n("h3",[e._v("Enjoying Summer?")]),e._m(0),n("form",{staticClass:"form-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.store.searchTerm,expression:"store.searchTerm"}],staticClass:"form-control mr-sm-2",attrs:{id:"searchbar-desktop",type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:e.store.searchTerm},on:{input:function(t){t.target.composing||e.$set(e.store,"searchTerm",t.target.value)}}})]),e.token?n("p",{staticClass:"user-name"},[n("img",{staticStyle:{height:"30px",width:"30px","margin-right":"15px"},attrs:{id:"profile-picture",src:r("f02b"),alt:"Profile Picture"}}),e._v(e._s(e.store.name))]):e._e()]):e._e(),n("div",{staticClass:"collapse multi-collapse",attrs:{id:"collapse-navbar"}},[n("div",{staticClass:"card card-body",attrs:{id:"collapse-div"}},[n("div",{staticClass:"row",staticStyle:{"margin-bottom":"15px"}},[null!==this.token?n("div",{staticClass:"col"},[n("router-link",{attrs:{to:"/add"}},[n("a",{attrs:{href:"#"}},[n("i",{staticClass:"fas fa-plus-circle",staticStyle:{color:"white"},attrs:{id:"sidebar-icon"}})])])],1):e._e(),null!==this.token?n("div",{staticClass:"col"},[n("router-link",{attrs:{to:"/profile"}},[n("a",{attrs:{href:"#"}},[n("i",{staticClass:"fas fa-user-circle ",staticStyle:{color:"white"},attrs:{id:"sidebar-icon"}})])])],1):e._e(),null!==this.token?n("div",{staticClass:"col"},[n("router-link",{attrs:{to:"/my-reviews"}},[n("a",{attrs:{href:"#"}},[n("i",{staticClass:"fas fa-images",staticStyle:{color:"white"},attrs:{id:"sidebar-icon"}})])])],1):e._e(),n("div",{staticClass:"col"},[n("router-link",{attrs:{to:"/stats"}},[n("a",{attrs:{href:"#"}},[n("i",{staticClass:"fas fa-chart-pie",staticStyle:{color:"white"},attrs:{id:"sidebar-icon"}})])])],1),n("div",{staticClass:"col"},[n("router-link",{attrs:{to:"/login"}},[n("a",{attrs:{href:"#"}},[n("i",{staticClass:"fas fa-sign-out-alt",staticStyle:{color:"white"},attrs:{id:"sidebar-icon"}})])])],1)]),n("form",{staticClass:"form-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.store.searchTerm,expression:"store.searchTerm"}],staticClass:"form-control mr-sm-2",attrs:{id:"searchbar-mobile",type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:e.store.searchTerm},on:{input:function(t){t.target.composing||e.$set(e.store,"searchTerm",t.target.value)}}})])])]),n("div",{staticClass:"flex-container"},e._l(e.store.posts,(function(t){return n("Post",{key:t.id,attrs:{info:t},nativeOn:{click:function(r){return e.details(t)}}})})),1)])},b=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapse-navbar","aria-expanded":"false","aria-controls":"multiCollapseExample2"}},[r("i",{staticClass:"fas fa-bars"})])}],v=r("2ef0"),w=r.n(v),_=r("9c93"),y=r("dde5"),k={name:"Home",components:{Post:_["a"]},data:function(){return{store:i["a"],name:null,token:null}},mounted:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===localStorage.getItem("token")){t.next=6;break}return y["a"].getUser(),t.next=4,localStorage.getItem("name");case 4:e.name=t.sent,console.log("name",e.name);case 6:return t.next=8,localStorage.getItem("token");case 8:return e.token=t.sent,console.log(e.token),t.next=12,e.fetchPosts();case 12:case"end":return t.stop()}}),t)})))()},methods:{fetchPosts:function(){return Object(m["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i["a"].searchTerm,e.next=3,c.a.get("/posts?title=".concat(t));case 3:r=e.sent,i["a"].posts=r.data,console.log(i["a"].posts);case 6:case"end":return e.stop()}}),e)})))()},details:function(e){this.$router.push({path:"post/".concat(e._id)})}},computed:{},watch:{"store.searchTerm":w.a.debounce((function(e){this.fetchPosts(e)}),500)}},x=k,C=(r("274e"),Object(d["a"])(x,g,b,!1,null,"24834309",null)),S=C.exports;n["a"].use(h["a"]);var R=[{path:"/",name:"Home",beforeEnter:function(e,t,r){"Login"===t.name||"EditPost"===t.name||"AddReview"===t.name?(r(),location.reload()):r()},component:S},{path:"/login",name:"Login",beforeEnter:function(e,t,r){localStorage.clear(),r()},component:function(){return r.e("about").then(r.bind(null,"a55b"))}},{path:"/register",name:"Register",beforeEnter:function(e,t,r){localStorage.clear(),r()},component:function(){return r.e("about").then(r.bind(null,"73cf"))}},{path:"/profile",name:"Profile",beforeEnter:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y["a"].checkUser();case 3:a=e.sent,a.auth&&n(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),n({name:"Home"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r,n){return e.apply(this,arguments)}return t}(),component:function(){return r.e("about").then(r.bind(null,"c66d"))}},{path:"/stats",name:"Stats",component:function(){return r.e("about").then(r.bind(null,"ed93"))}},{path:"/my-reviews",name:"MyReviews",beforeEnter:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y["a"].checkUser();case 3:a=e.sent,a.auth&&n(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),n({name:"Home"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r,n){return e.apply(this,arguments)}return t}(),component:function(){return r.e("about").then(r.bind(null,"6895"))}},{path:"/add",name:"AddReview",beforeEnter:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y["a"].checkUser();case 3:a=e.sent,a.auth&&n(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),n({name:"Home"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r,n){return e.apply(this,arguments)}return t}(),component:function(){return r.e("about").then(r.bind(null,"d364"))}},{path:"/post/:id",props:!0,name:"PostDetail",component:function(){return r.e("about").then(r.bind(null,"246d"))}},{path:"/edit-post/:id",props:!0,name:"EditPost",component:function(){return r.e("about").then(r.bind(null,"2cea"))}}],O=new h["a"]({mode:"history",base:"/",routes:R}),j=O,E=r("f0eb"),P=r("2896"),T=r.n(P),N=r("1321"),$=r.n(N);n["a"].component("apexchart",$.a),n["a"].use(T.a),n["a"].use(E["default"]),n["a"].config.productionTip=!1,new n["a"]({router:j,render:function(e){return e(f)}}).$mount("#app")},"72b4":function(e,t,r){},"9c93":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card",staticStyle:{width:"19rem",height:"370px"}},[n("img",{staticClass:"card-img-top",staticStyle:{height:"170px"},attrs:{src:e.info.url,alt:"Card image cap"}}),n("div",{staticClass:"card-body"},[n("p",{attrs:{id:"postedBy-text"}},[e._v(e._s(e.info.postedBy.name))]),n("p",{attrs:{id:"beach-location-text"}},[n("img",{attrs:{id:"post-location-icon",src:r("04c7"),alt:""}}),e._v(e._s(e.info.title))]),e.data.postedBy==e.id_localStorage?n("div",{attrs:{id:"edit-button"},on:{click:function(t){return t.stopPropagation(),e.goToEdit()}}},[n("i",{staticClass:"fas fa-cog"})]):e._e()])])},a=[],o=(r("b0c0"),r("96cf"),r("1da1")),s=(r("c0d6"),r("dde5"),r("bc3a")),c=r.n(s),i=r("c1da"),u=r.n(i),l={props:["info"],components:{StarRating:u.a},data:function(){return{data:"",id_localStorage:localStorage.getItem("UserId_localStorage")}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:c.a.get("http://localhost:3000/posts/".concat(e.info._id)).then((function(t){e.data=t.data}));case 1:case"end":return t.stop()}}),t)})))()},methods:{goToEdit:function(){"EditPost"!==this.$route.name&&this.$router.push({path:"edit-post/".concat(this.info._id)})}}},d=l,p=(r("c159"),r("2877")),f=Object(p["a"])(d,n,a,!1,null,"35655270",null);t["a"]=f.exports},a56b:function(e,t,r){},a7bb:function(e,t,r){"use strict";var n=r("a56b"),a=r.n(n);a.a},b11e:function(e,t,r){},c0d6:function(e,t,r){"use strict";t["a"]={posts:[],searchTerm:"",id:void 0,title:"",url:"",postedBy:"",score:void 0,description:"",beach_types:["Rocky","Sandy","Concrete"],beach_type:"",lf_towers:["Yes","No"],lf_tower:"",pets_allowed:["Yes","No"],pets_allowed_answer:"",free_beaches:["Yes","No"],free_beach:"",posted_at:"",imageData:null,num_rocky:void 0,num_sandy:void 0,num_concrete:void 0,lf_yes:void 0,lf_no:void 0,petsYes:void 0,petsNo:void 0,free_yes:void 0,free_no:void 0,posts2:[],searchTerm2:"",name:""}},c159:function(e,t,r){"use strict";var n=r("b11e"),a=r.n(n);a.a},dde5:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("b0c0"),r("96cf");var n=r("1da1"),a=r("bc3a"),o=r.n(a),s=r("c0d6"),c=o.a.create({baseURL:"",timeout:1e3}),i={checkUser:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("index/ruta",localStorage.getItem("token")),e.next=4,c.get("/authorised",{headers:{token:localStorage.getItem("token")}});case 4:return t=e.sent,e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e["catch"](0),console.log("Nismo autorizirani",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getUser:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.get("/api/user",{headers:{token:localStorage.getItem("token")}}).then((function(e){console.log("user",e.data),localStorage.setItem("name",e.data.UserData.name),s["a"].name=e.data.UserData.name,localStorage.setItem("UserId_localStorage",e.data.UserData.id)}))["catch"]((function(t){localStorage.clear(),console.log("user",t),e.$router.push("/login")}));case 2:return t.abrupt("return");case 3:case"end":return t.stop()}}),t)})))()},update_post:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,c.patch("/updatepost/".concat(t),e).then((function(e){}))["catch"]((function(e){console.log("error",e)}));case 2:return r.abrupt("return");case 3:case"end":return r.stop()}}),r)})))()},new_post:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.post("/newpost",e).then((function(e){}))["catch"]((function(e){console.log("error",e)}));case 2:return t.abrupt("return");case 3:case"end":return t.stop()}}),t)})))()},getOne:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.get("/details/".concat(e));case 2:return r=t.sent,n=r.data,console.log(n),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))()},new_comment:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={text:e,id:t,token:localStorage.getItem("token")},r.next=3,c.post("/newcomment",n);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()},delete_comment:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.post("/delete_comment/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},delete_post:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.post("/delete_post/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},new_replay:function(e,t,r){return Object(n["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={text:e,id:t,comment:r,token:localStorage.getItem("token")},n.next=3,c.post("/newcomment",a);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},get_post_comments:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.get("/comments/".concat(e));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))()}}},f02b:function(e,t,r){e.exports=r.p+"img/account.ac323e76.png"}});
//# sourceMappingURL=app.58b6a009.js.map